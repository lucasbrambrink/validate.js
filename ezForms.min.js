var DateUtil=function(){var a=function(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getTime())},b=function(b,c,d){var e=a(b)?b:new Date(d,b-1,c);return Date.now()-e.getTime()>0},c=function(a){var b=new Date-a,c=b/864e5,d=c/365.24;return Math.floor(d)},d=function(a,d,e,f){if(a.length>2||d.length>2||e.length>4)return!1;var g=new Date(e,a-1,d);return g.getMonth()+1==a&&g.getDate()==d&&g.getFullYear()==e&&(!!b(g)&&("number"!=typeof f||f>c(g)))},e=function(a,b){var c=a.replace(/\s/g,"").split("/");return 3===c.length&&d(c[0],c[1],c[2],b)};return{validateDateString:e,validateDate:d,isDate:a,calcAge:c,isPastOrCurrentDate:b}}(),VALIDATORS={required:{fn:function(a){return"undefined"!=typeof a&&null!==a&&a.length>0},message:"This value is required."},digits:{fn:function(a){return!isNaN(a)},message:"This value must contain numbers only."},phoneNumber:{fn:function(a){if(Utils.stringIsNullOrEmpty(a))return!1;var b=new RegExp("/[-()+.]s/"),c=a.replace(b,"");return!isNaN(c)&&c.length>=10},message:"This value should be a phone number."},email:{fn:function(a){if(Utils.stringIsNullOrEmpty(a))return!1;var b=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)},message:"Please enter a valid email."},creditcard:{fn:function(a){return/[\d]{15,19}/.test(ccString.replace(/ /g,"").replace(/-/g,""))},message:"Please enter a valid credit card number."},cvv:{fn:function(a){return/[\d]{3,4}/.test(cvvString)},message:"Please enter a valid code."},zipcode:{fn:function(a){return/^\d{5}(-\d{4})?$/.test(a)},message:"Please enter a valid zip code."},date:{fn:function(a){return DateUtil.validateDateString(a)},message:"Please enter a valid date (MM/DD/YYYY)."},mustBeOlderThan:{fn:function(a,b){return DateUtil.validateDateString(a,b)},message:"Please confirm your age."},name:{fn:function(a){var b=new RegExp("/^[a-zA-Z-s']+$/");return b.test(a)},message:"Names may only contain letters, dashes or apostrophes."},matches:{fn:function(a,b){return!Utils.stringIsNullOrEmpty(a)&&a===$(b).val()},message:"This value must match"}},Utils=function(a){var b={VALID:"valid",INVALID:"invalid",DISABLED:"disabled"},c=function(c,d){var e=a(c),f=e.attr(b.DISABLED);d&&void 0===f?e.attr(b.DISABLED,b.DISABLED):d||f!==b.DISABLED||e.removeAttribute(b.DISABLED)},d=function(a){return"undefined"!=typeof a&&null!==a&&0===a.trim().length};return{STATES:b,VALIDATORS:VALIDATORS,DateUtil:DateUtil,setDisabled:c,stringIsNullOrEmpty:d}}(jQuery),EzForms=function(a){var b=Utils.STATES,c="label.error",d=function(c,d){d?a(c).removeClass(b.INVALID).addClass(b.VALID):a(c).removeClass(b.VALID).addClass(b.INVALID)},e=function(d){d=d||this,a(d).removeClass(b.VALID).removeClass(b.INVALID).siblings(c).remove()},f=function(d,f){var g=a(d),h=g.siblings(c);0===h.length&&(h=a('<label class="error"></label>'),g.after(h));var i=g.data("error-message")||f;h.text(i),g.removeClass(b.VALID).addClass(b.INVALID).on("change",function(){e(d)})},g=function(c){e(c),a(c).addClass(b.VALID)},h=function(b){var c=a(b);if("undefined"!=typeof c.data("validate"))for(var h,i,j,d=c.val(),e=c.data("validate").split(","),k=0;k<e.length;k++)if(i=e[k].trim(),h=Utils.VALIDATORS[i],"undefined"!=typeof h&&null!==h){switch(i){case"mustBeOlderThan":j=h.fn(d,c.data("older-than"));break;case"matches":j=h.fn(d,c.data("match-to"));break;default:j=h.fn(d)}if(j?g(b):f(b,h.message),!j)break}},i=function(c){a(c).find("[data-validate]").map(function(){h(this)});var e=0===a(c).find("."+b.INVALID).length;return d(c,e),e},j=function(b){for(var c=a(b).find("[data-validate]").filter(function(){return a(this).data("validate").indexOf("required")>-1}),d=0;d<c.length;d++)if(Utils.stringIsNullOrEmpty(a(c[d]).val()))return!1;return!0},k=function(){var b=j(this)&&i(this);setState(this,b);var c=a(this).find("[type=submit]");Utils.setDisabled(c,!b)},l=function(b){var c=a(b);c.find("[data-validate]").on("blur",function(){h(this)}),"true"!==c.data("never-disabled")&&c.ready(k).on("focus change",k),c.on("submit",function(a){i(b)||a.preventDefault()})},m=function(b){a(b).map(function(){l(this)})};return{VALIDATORS:VALIDATORS,STATES:b,validateInput:h,formIsValid:i,init:l,initAll:m}}(jQuery);!function(a){a.fn.ezForm=EzForms}(jQuery);