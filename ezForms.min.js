var DateUtil=function(){var a=function(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getTime())},b=function(b,c,d){var e=a(b)?b:new Date(d,b-1,c);return Date.now()-e.getTime()>0},c=function(a){var b=new Date-a,c=b/864e5,d=c/365.24;return Math.floor(d)},d=function(a,d,e,f){if(a.length>2||d.length>2||e.length>4)return!1;var g=new Date(e,a-1,d);return g.getMonth()+1==a&&g.getDate()==d&&g.getFullYear()==e&&(!!b(g)&&("number"!=typeof f||f>c(g)))},e=function(a,b){var c=a.replace(/\s/g,"").split("/");return 3===c.length&&d(c[0],c[1],c[2],b)};return{validateDateString:e,validateDate:d,isDate:a,calcAge:c,isPastOrCurrentDate:b}}(),VALIDATORS={required:{fn:function(a){return"undefined"!=typeof a&&null!==a&&a.length>0},message:"This value is required."},digits:{fn:function(a){return!isNaN(a)},message:"This value must contain numbers only."},phoneNumber:{fn:function(a){if(Utils.stringIsNullOrEmpty(a))return!1;var b=new RegExp("/[-()+.]s/"),c=a.replace(b,"");return!isNaN(c)&&c.length>=10},message:"This value should be a phone number."},email:{fn:function(a){if(Utils.stringIsNullOrEmpty(a))return!1;var b=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)},message:"Please enter a valid email."},creditcard:{fn:function(a){return/[\d]{15,19}/.test(ccString.replace(/ /g,"").replace(/-/g,""))},message:"Please enter a valid credit card number."},cvv:{fn:function(a){return/[\d]{3,4}/.test(cvvString)},message:"Please enter a valid code."},zipcode:{fn:function(a){return/^\d{5}(-\d{4})?$/.test(a)},message:"Please enter a valid zip code."},date:{fn:function(a){return DateUtil.validateDateString(a)},message:"Please enter a valid date (MM/DD/YYYY)."},mustBeOlderThan:{fn:function(a,b){return DateUtil.validateDateString(a,b)},message:"Please confirm your age."},name:{fn:function(a){var b=new RegExp("/^[a-zA-Z-s']+$/");return b.test(a)},message:"Names may only contain letters, dashes or apostrophes."},matches:{fn:function(a,b){return!Utils.stringIsNullOrEmpty(a)&&a===$(b).val()},message:"This value must match"}},Utils=function(a){var b={VALID:"valid",INVALID:"invalid",DISABLED:"disabled"},c="label.error",d=function(a){return"undefined"!=typeof a&&null!==a&&0===a.trim().length},e=function(c,d){var e=a(c),f=e.attr(b.DISABLED);d&&void 0===f?e.attr(b.DISABLED,b.DISABLED):d||f!==b.DISABLED||e.removeAttr(b.DISABLED)},f=function(c,d){d?a(c).removeClass(b.INVALID).addClass(b.VALID):a(c).removeClass(b.VALID).addClass(b.INVALID)},g=function(d){d=d||this,a(d).removeClass(b.VALID).removeClass(b.INVALID).siblings(c).remove()},h=function(d,e){var f=a(d),h=f.siblings(c);0===h.length&&(h=a('<label class="error"></label>'),f.after(h));var i=f.data("error-message")||e;h.text(i),f.removeClass(b.VALID).addClass(b.INVALID).on("change",function(){g(d)})},i=function(c){g(c),a(c).addClass(b.VALID)},j=function(b,c){var d=a(b).find("[type=submit]");e(d,!c)};return{STATES:b,VALIDATORS:VALIDATORS,DateUtil:DateUtil,stringIsNullOrEmpty:d,setDisabled:e,setState:f,setValid:i,setInvalid:h,setNeutral:g,setSubmittable:j}}(jQuery),EzForms=function(a){var b=Utils.STATES,c=function(b){var c=a(b);if("undefined"!=typeof c.data("validate"))for(var f,g,h,d=c.val(),e=c.data("validate").split(","),i=0;i<e.length;i++)if(g=e[i].trim(),f=Utils.VALIDATORS[g],"undefined"!=typeof f&&null!==f){switch(g){case"mustBeOlderThan":h=f.fn(d,c.data("older-than"));break;case"matches":h=f.fn(d,c.data("match-to"));break;default:h=f.fn(d)}if(h?Utils.setValid(b):Utils.setInvalid(b,f.message),!h)break}},d=function(d){a(d).find("[data-validate]").map(function(){c(this)});var e=0===a(d).find("."+b.INVALID).length;return Utils.setState(d,e),e},e=function(b){for(var c=a(b).find("[data-validate]").filter(function(){return a(this).data("validate").indexOf("required")>-1}),d=0;d<c.length;d++)if(Utils.stringIsNullOrEmpty(a(c[d]).val()))return!1;return!0},f=function(){var a=e(this)&&d(this);Utils.setSubmittable(this,a)},g=function(b){var e=a(b);e.find("[data-validate]").on("blur",function(){c(this)}),"true"!==e.data("never-disabled")&&e.ready(f).on("focus change",f),e.on("submit",function(a){d(b)||a.preventDefault()})},h=function(b){a(b).map(function(){g(this)})};return{VALIDATORS:VALIDATORS,STATES:b,validateInput:c,formIsValid:d,init:g,initAll:h}}(jQuery);!function(a){a.fn.ezForm=function(){return EzForms()}}(jQuery);